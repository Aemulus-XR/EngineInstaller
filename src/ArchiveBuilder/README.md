# Archive Builder

This folder contains scripts to create the 7z archive for distribution.

## Prerequisites

- **7-Zip**: Download from https://www.7-zip.org/
- **Add 7z to PATH**: Or run the script from `C:\Program Files\7-Zip\`

## Usage

### Create Archive

```batch
CreateEngineArchive.bat
```

This will:
1. Clean the engine build (remove Intermediate, DerivedDataCache, etc.)
2. Create `UE_5.6_OculusDrop.7z` in the `Output/` folder
3. Report the final archive size
4. Show next steps for Google Drive upload

### Expected Results

- **Archive size**: ~8-15 GB (compressed from ~30-40 GB)
- **Build time**: 10-20 minutes
- **Output location**: `src/ArchiveBuilder/Output/UE_5.6_OculusDrop.7z`

## Upload to Google Drive

1. Go to https://drive.google.com
2. Upload `UE_5.6_OculusDrop.7z`
3. Right-click → Share → "Anyone with the link"
4. Copy the file ID from the share URL
5. Create direct download link:
   ```
   https://drive.google.com/uc?export=download&id=YOUR_FILE_ID
   ```

## Update Installer

After uploading, update the installer with the download URL:
- Edit `../AemulusEngineInstaller/DownloadConfig.xml` (or wherever URL is stored)
- Update version number if needed

## Files Excluded from Archive

The cleanup process removes:
- `Engine/Intermediate/` - Build intermediates
- `Engine/DerivedDataCache/` - Cached data
- `Engine/Saved/Logs/` - Log files
- `Engine/Saved/Crashes/` - Crash dumps
- `Templates/*/Intermediate/` - Template intermediates
- `Samples/*/Intermediate/` - Sample intermediates

These folders are regenerated by Unreal Engine on first run.

## Output Structure

```
ArchiveBuilder/
├── CreateEngineArchive.bat    # Main build script
├── Output/                     # Generated archives (gitignored)
│   └── UE_5.6_OculusDrop.7z
├── archive_build.log           # 7z compression log
└── README.md                   # This file
```
